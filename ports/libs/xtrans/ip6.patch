diff --git a/Xtranssock.c b/Xtranssock.c
index b06579ca3..137b20b4d 100644
--- a/Xtranssock.c
+++ b/Xtranssock.c
@@ -119,6 +119,7 @@ from the copyright holders.
 #include <X11/Xwinsock.h>
 #include <X11/Xwindows.h>
 #include <X11/Xw32defs.h>
+#include <ws2tcpip.h>
 #undef close
 #define close closesocket
 #define ECONNREFUSED WSAECONNREFUSED
